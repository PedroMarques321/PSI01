<p>gestor works!</p>

<h2>Registar Novo Táxi</h2>

<form (ngSubmit)="registarTaxi()" #formTaxi="ngForm">
  <!-- Matrícula -->
  <div>
    <label for="matricula">Matrícula:</label>
    <input
      type="text"
      id="matricula"
      name="matricula"
      [(ngModel)]="novoTaxi.matricula"
      required
    />
  </div>

  <div *ngIf="!validarMatricula(novoTaxi.matricula)" style="color: red;">
    Matrícula inválida! Deve conter pelo menos uma letra e um número.
  </div>

  <!-- Marca -->
  <div>
    <label for="marca">Marca:</label>
    <select
      id="marca"
      name="marca"
      [(ngModel)]="novoTaxi.marca"
      required
    >
      <option value="" disabled selected>-- Escolhe a marca --</option>
      <option *ngFor="let marca of marcasDisponiveis" [value]="marca">{{ marca }}</option>
    </select>
  </div>

  <!-- Modelo -->
  <div>
    <label for="modelo">Modelo:</label>
    <select
      id="modelo"
      name="modelo"
      [(ngModel)]="novoTaxi.modelo"
      required
    >
      <option value="" disabled selected>-- Escolhe o modelo --</option>
      <option *ngFor="let modelo of modelosDisponiveis" [value]="modelo">{{ modelo }}</option>
    </select>
  </div>

  <!-- Ano de Compra -->
  <div>
    <label for="anoCompra">Ano de Compra:</label>
    <input
      type="date"
      id="anoCompra"
      name="anoCompra"
      [(ngModel)]="novoTaxi.ano_de_compra"
      required
    />
  </div>
  <div *ngIf="validarData()" style="color: red;">
    A data de compra não pode ser superior à data atual.
  </div>

  <!-- Nível de Conforto -->
  <div>
    <label for="conforto">Nível de Conforto (RIA 16):</label>
    <select
      id="conforto"
      name="conforto"
      [(ngModel)]="novoTaxi.conforto"
      required
    >
      <option value="Muito Confortável">Muito Confortável</option>
      <option value="Normal">Normal</option>
    </select>
  </div>

  <!-- Botão Submeter -->
  <button type="submit">Registar Táxi</button>
</form>

<!-- Lista de Táxis -->
<h3>Lista de Táxis</h3>
<ul>
  <li *ngFor="let taxi of listaTaxis">
    {{ taxi.matricula }} - {{ taxi.marca }} {{ taxi.modelo }} ({{ formatarData(taxi.ano_de_compra) }}) - Conforto: {{ taxi.conforto }}
  </li>
</ul>

