<!-- Botão para mostrar/esconder formulário -->
<button (click)="mostrarFormulario = !mostrarFormulario">
  {{ mostrarFormulario ? 'Cancelar' : 'Adicionar Novo Táxi' }}
</button>

<!-- Formulário de registo visível apenas se mostrarFormulario for true -->
<div *ngIf="mostrarFormulario">
  <h2 class="titulo">Registar Novo Táxi</h2>

  <form (ngSubmit)="registarTaxi()" #formTaxi="ngForm">
    <!-- Matrícula -->
    <div>
      <label for="matricula">Matrícula:</label>
      <input
        type="text"
        id="matricula"
        name="matricula"
        [(ngModel)]="novoTaxi.matricula"
        required
      />
    </div>

    <div *ngIf="!validarMatricula(novoTaxi.matricula)" style="color: red;">
      Matrícula inválida! Deve conter pelo menos uma letra e um número.
    </div>

    <!-- Marca -->
    <div>
      <label for="marca">Marca:</label>
      <select id="marca" name="marca" [(ngModel)]="novoTaxi.marca" required>
        <option value="" disabled>-- Escolhe a marca --</option>
        <option *ngFor="let marca of marcasDisponiveis" [value]="marca">{{ marca }}</option>
      </select>
    </div>

    <!-- Modelo -->
    <div>
      <label for="modelo">Modelo:</label>
      <select id="modelo" name="modelo" [(ngModel)]="novoTaxi.modelo" required>
        <option value="" disabled>-- Escolhe o modelo --</option>
        <option *ngFor="let modelo of modelosDisponiveis" [value]="modelo">{{ modelo }}</option>
      </select>
    </div>

    <!-- Ano de Compra -->
    <div>
      <label for="anoCompra">Ano de Compra:</label>
      <input
        type="date"
        id="anoCompra"
        name="anoCompra"
        [(ngModel)]="novoTaxi.ano_de_compra"
        required
      />
    </div>
    <div *ngIf="validarData(novoTaxi.ano_de_compra)" style="color: red;">
      A data de compra não pode ser superior à data atual.
    </div>

    <!-- Nível de Conforto -->
    <div>
      <label for="conforto">Nível de Conforto (RIA 16):</label>
      <select id="conforto" name="conforto" [(ngModel)]="novoTaxi.conforto" required>
        <option value="Muito Confortável">Muito Confortável</option>
        <option value="Normal">Normal</option>
      </select>
    </div>

    <!-- Botão Submeter -->
    <button type="submit">Registar Táxi</button>
  </form>
</div>

<!-- Lista de Táxis -->
<h3>Lista de Táxis</h3>
<ul>
  <li *ngFor="let taxi of listaTaxis">
    {{ taxi.matricula }} - {{ taxi.marca }} {{ taxi.modelo }} ({{ formatarData(taxi.ano_de_compra) }}) - Conforto: {{ taxi.conforto }}
  </li>
</ul>

<<<<<<< Updated upstream
<!--Registar Condutor-->
<h2 class="titulo">Registar Novo Condutor</h2>
<form (ngSubmit)="registarDriver()" #formCondutor="ngForm">
  <!-- Nome -->
  <div>
    <label for="nome">Nome:</label>
    <input
      type="text"
      id="nome"
      name="nome"
      [(ngModel)]="novoDriver.nome"
      required
    />
  </div>

  <!-- NIF -->
  <div>
    <label for="nif">NIF:</label>
    <input
      type="text"
      id="nif"
      name="nif"
      [(ngModel)]="novoDriver.nif"
      required
    />
  </div>

  <!-- Data de Nascimento -->
  <div>
    <label for="dataNascimento">Data de Nascimento:</label>
    <input
      type="date"
      id="dataNascimento"
      name="dataNascimento"
      [(ngModel)]="novoDriver.ano_de_nascimento"
      required
    />
  </div>

  <!-- Botão Submeter -->
  <button type="submit">Registar Condutor</button>
=======
<button (click)="mostrarFormularioMotorista = !mostrarFormularioMotorista">
  {{ mostrarFormularioMotorista ? 'Cancelar' : 'Adicionar Novo Motorista' }}
</button>

<!-- Formulário de registo do motorista -->
<div *ngIf="mostrarFormularioMotorista">
  <h2 class="titulo">Registar Novo Motorista</h2>

  <form (ngSubmit)="registarMotorista()" #formMotorista="ngForm">
    <!-- NIF -->
    <div>
      <label for="nif">NIF:</label>
      <input
        type="number"
        id="nif"
        name="nif"
        [(ngModel)]="novoMotorista.pessoa.nif"
        required
      />
    </div>
    <div *ngIf="!nifValido()" style="color: red;">
      O NIF deve conter apenas números.
    </div>

    <!-- Nome -->
    <div>
      <label for="nome">Nome:</label>
      <input
        type="text"
        id="nome"
        name="nome"
        [(ngModel)]="novoMotorista.pessoa.nome"
        required
      />
    </div>
    <div *ngIf="!nomeValido()" style="color: red;">
      O nome não deve conter números.
    </div>

    <!-- Género -->
    <div>
      <label for="genero">Género:</label>
      <select
        id="genero"
        name="genero"
        [(ngModel)]="novoMotorista.pessoa.genero"
        required
      >
        <option [ngValue]="true">Masculino</option>
        <option [ngValue]="false">Feminino</option>
      </select>
    </div>

    <!-- Código Postal -->
    <div>
      <label for="codigoPostal">Código Postal:</label>
      <input
        type="text"
        id="codigoPostal"
        name="codigoPostal"
        [(ngModel)]="novoMotorista.morada.codigo_postal"
        required
        pattern="^\d{4}-\d{3}$"
        (ngModelChange)="onCodigoPostalChange()"
      />
      <!-- Regex para validar o formato do código postal -->
    </div>
    <!-- Exibição da Localidade -->
    <div *ngIf="novoMotorista.morada.localidade">
      <label>Localidade:</label>
      <span>{{ novoMotorista.morada.localidade }}</span>
    </div>

    <!-- Rua -->
    <div>
      <label for="rua">Rua:</label>
      <input
        type="text"
        id="rua"
        name="rua"
        [(ngModel)]="novoMotorista.morada.rua"
        required
      />
    </div>
    <div *ngIf="!ruaValida()" style="color: red;">
      A rua deve conter apenas letras.
    </div>

    <!-- Número da Porta -->
    <div>
      <label for="numeroPorta">N.º Porta:</label>
      <input
        type="text"
        id="numeroPorta"
        name="numeroPorta"
        [(ngModel)]="novoMotorista.morada.numero_porta"
        required
      />
    </div>
    <div *ngIf="!portaValida()" style="color: red;">
      O número da porta deve ser um número válido.
    </div>

    <!-- Carta de Condução -->
    <div>
      <label for="carta">Carta de Condução:</label>
      <input
        type="text"
        id="carta"
        name="carta"
        [(ngModel)]="novoMotorista.carta_de_conducao"
        required
      />
    </div>

    <!-- Data de Nascimento -->
    <div>
      <label for="nascimento">Data de Nascimento:</label>
      <input
        type="date"
        id="nascimento"
        name="nascimento"
        [(ngModel)]="novoMotorista.nascimento"
        required
      />
    </div>
    <div *ngIf="validarData(novoMotorista.nascimento)" style="color: red;">
      A data de nascimento não está certa.
    </div>

    <!-- Botão Submeter -->
    <button type="submit">Registar Motorista</button>
  </form>
</div>
>>>>>>> Stashed changes
